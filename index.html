<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>道の駅 Oitaaa</title>
    <meta name="description" content="大分県の自然豊かな道の駅 Oitaaa。グルメ・イベント・アクセス情報満載！" />
    <link rel="stylesheet" href="style.css" />
    <link rel="icon" href="img/favicon.ico" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />
</head>
<body>
    <audio id="bgm" src="oitaaa_bgm_merged.mp3" loop preload="auto"></audio>
    
    <a id="page-top"></a>
    
    <header>
        <h1>🌸道の駅 Oitaaa🌸</h1>
        <button id="bgm-toggle" aria-pressed="false" aria-label="BGMのオンオフ切り替え">🔈 BGM オフ</button>
        <nav>
            <ul>
                <li><a href="#hero">トップ</a></li>
                <li><a href="facility.html">施設紹介</a></li>
                <li><a href="shop.html">ショップ</a></li>
                <li><a href="event.html">イベント</a></li>
                <li><a href="access.html">アクセス</a></li>
                <li><a href="contact.html">お問い合わせ</a></li>
            </ul>
        </nav>
    </header>

    <section class="hero" id="hero">
        <div class="hero-text">
            <h2>自然と笑顔があつまる「道の駅　Oitaaa」</h2>
            <p>～ゆったり　のんびり　ほっこり～</p>
            <p>都会からほど近い、ここは道の駅Oitaaa</p>
            <p>都会にいながら、自然を感じられる憩いの場所に！</p>
            <p>美味しいグルメに、新鮮地元野菜をぜひご堪能下さい♪</p>
        </div>
    </section>

    <main>
        <section id="facility" class="section">
            <h2>🏠 施設紹介 ♨</h2>
            <div class="image-container">
                <img src="img/oitaaa.png" alt="道の駅 Oitaaaの施設外観" class="shop-image"/>
            </div>
            <p>広々とした駐車場、清潔なトイレ、休憩スペースも完備～ 地元特産品の直売所も大人気！　無料の足湯もあります！</p>
            <p><a href="facility.html">施設案内はこちら</a></p>
        </section>

        <section id="gourmet" class="section">
            <h2>🍙 ショップ＆グルメ 🥢</h2>
            <div class="image-container">
                <img src="img/2soft.png" alt="豆乳ソフトとだんご汁" class="shop-image"/>
            </div>
            <p>人気の「豆乳ソフト」や「だんご汁」は地元野菜たっぷりのほっこり料理！</p>
            <p>地元の味噌や柚子胡椒、オリジナルパッケージのスイーツも大人気！</p>
            <p><a href="shop.html">グルメ＆ショップ情報はこちら</a></p>
        </section>

        <section id="event" class="section">
            <h2>🎉 イベント情報 🎪</h2>
            <div class="image-container">
                <img src="img/eve.png" alt="イベント開催の様子" class="shop-image"/>
            </div>
            <p>地元マルシェや手作り体験など、ファミリーで楽しめるイベントが盛りだくさん！</p>
            <p><a href="event.html">イベント情報はこちら</a></p>
        </section>

        <section id="access" class="section">
            <h2>🗺️ アクセス 🐾</h2>
            <div class="image-container">
                <img src="img/tizu1o.png" alt="地図" class="map-image" />
            </div>
            <p>Oitaaa ICから車で5分。JR Oitaaa駅から車で約10分です。EV充電も完備！</p>
            <p><a href="access.html">アクセス情報はこちら</a></p>
        </section>
    </main>
    
    <section class="contact-footer">
        <div class="contact-wrapper">
            <div class="contact-left">
                <img src="img/ロゴ.png" alt="道の駅 Oitaaa ロゴ" class="footer-logo" />
            </div>
            <div class="contact-right">
                <p><strong>道の駅 Oitaaa</strong><br/>Oitaaa市Oitaaa町1-2 K道10号沿い</p>
                <p><strong>営業時間</strong><br/>営業時間：8:30～18:00<br/>飲食スペース：10:00～18:00（LO.17:30）</p>
                <hr />
                <div class="contact-tel">
                    <a href="tel:0000111222">TEL. 0000-111-222</a>
                </div>
            </div>
        </div>
    </section>

    <footer>
        <div class="footer-nav">
            <a href="#page-top" class="footer-to-top" title="ページトップへ戻る">
            トップに戻る <i class="fas fa-arrow-up"></i>
        </a>
        </div>

        <div class="social-links">
            <a href="https://www.instagram.com/oitaaa_michinoeki/" target="_blank" rel="noopener noreferrer">
                <i class="fab fa-instagram"></i> Instagram
            </a>
            <a href="https://x.com/oitaaa_michinoeki" target="_blank" rel="noopener noreferrer">
                <i class="fab fa-twitter"></i> X (旧Twitter)
            </a>
            <a href="https://www.facebook.com/oitaaa_michinoeki/" target="_blank" rel="noopener noreferrer">
                <i class="fab fa-facebook-f"></i> Facebook
            </a>
        </div>

        <p class="copyright">&copy; 2025 道の駅 Oitaaa(架空の道の駅HP)</p>
    </footer>

    <a href="#page-top" id="scroll-to-top" title="ページトップへ戻る">
        <i class="fas fa-arrow-up"></i> </a>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const bgm = document.getElementById('bgm');
            const toggleBtn = document.getElementById('bgm-toggle');
            bgm.volume = 0.15; // BGMの音量設定

            // localStorageからBGMの状態を読み込む
            let bgmOnLocalStorage = localStorage.getItem('bgmOn') === 'true';

            // ページロード時のBGM再生制御
            if (bgmOnLocalStorage) {
                // localStorageがtrueの場合、再生を試みる
                bgm.play().then(() => {
                    toggleBtn.textContent = '🔊 BGM オン';
                    toggleBtn.setAttribute('aria-pressed', 'true');
                    console.log("BGM autoplay started successfully based on localStorage.");
                }).catch(error => {
                    // 自動再生がブロックされた場合
                    toggleBtn.textContent = '🔈 BGM オフ';
                    toggleBtn.setAttribute('aria-pressed', 'false');
                    bgm.pause(); // 念のため一時停止
                    localStorage.setItem('bgmOn', 'false'); // localStorageもfalseに更新
                    console.warn("BGM autoplay was prevented by browser:", error.message);
                    console.info("Please click the BGM toggle button to play the audio.");
                });
            } else {
                // localStorageがfalseの場合、停止状態にする
                bgm.pause();
                toggleBtn.textContent = '🔈 BGM オフ';
                toggleBtn.setAttribute('aria-pressed', 'false');
            }

            // BGMトグルボタンのクリックイベント
            toggleBtn.addEventListener('click', () => {
                if (bgm.paused) {
                    // 現在停止中なら再生
                    bgm.play().then(() => {
                        toggleBtn.textContent = '🔊 BGM オン';
                        toggleBtn.setAttribute('aria-pressed', 'true');
                        localStorage.setItem('bgmOn', 'true'); // localStorageを更新
                        console.log("BGM started by user interaction.");
                    }).catch(error => {
                        console.error("Failed to play BGM after click:", error.message);
                        alert("BGMの再生がブラウザによってブロックされました。別の操作後に再度お試しいただくか、ブラウザ設定をご確認ください。");
                        toggleBtn.textContent = '🔈 BGM オフ';
                        toggleBtn.setAttribute('aria-pressed', 'false');
                        localStorage.setItem('bgmOn', 'false');
                    });
                } else {
                    // 現在再生中なら停止
                    bgm.pause();
                    toggleBtn.textContent = '🔈 BGM オフ';
                    toggleBtn.setAttribute('aria-pressed', 'false');
                    localStorage.setItem('bgmOn', 'false'); // localStorageを更新
                    console.log("BGM paused by user interaction.");
                }
            });

            // 画面右下に固定される「トップへ戻る」ボタンのJavaScript
            const scrollToTopBtn = document.getElementById('scroll-to-top');

            // ページスクロール時にボタンの表示を切り替える
            window.addEventListener('scroll', () => {
                if (window.scrollY > 300) { // 300pxスクロールしたら表示
                    scrollToTopBtn.style.display = 'block';
                } else {
                    scrollToTopBtn.style.display = 'none';
                }
            });

            // クリックでスムーズスクロール
            scrollToTopBtn.addEventListener('click', (e) => {
                e.preventDefault(); // デフォルトのアンカーリンク動作を無効化
                window.scrollTo({
                    top: 0,
                    behavior: 'smooth' // スムーズスクロール
                });
            });

            // フッター内の「トップに戻る」リンクのJavaScript
            const footerToTopLink = document.querySelector('.footer-to-top');

            if (footerToTopLink) { // footerToTopLinkが存在する場合のみイベントリスナーを設定
                footerToTopLink.addEventListener('click', (e) => {
                    e.preventDefault(); // デフォルトのアンカーリンク動作を無効化
                    window.scrollTo({
                        top: 0,
                        behavior: 'smooth' // スムーズスクロール
                    });
                });
            }
        });
    </script>
</body>
</html>